<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Grupos de Investigación</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />
</head>
<style>
    /* Tipografía y fondo general */
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f0f4f8;
      color: #0d3b66;
      min-height: 100vh;
    }

    /* Container principal */
    .container {
      max-width: 960px;
      background: #ffffff;
      padding: 2.5rem 3rem;
      border-radius: 12px;
      box-shadow: 0 6px 18px rgba(13, 59, 102, 0.1);
      margin-top: 3rem;
      margin-bottom: 3rem;
    }

    h1 {
      font-weight: 700;
      font-size: 2.5rem;
      margin-bottom: 2rem;
      border-bottom: 3px solid #1e90ff;
      padding-bottom: 0.5rem;
      color: #1e3a8a;
    }

    /* Cards */
    .card {
      border: none;
      box-shadow: 0 4px 12px rgba(13, 59, 102, 0.1);
      border-radius: 10px;
      background: #e7f0fd;
    }

    /* Etiquetas */
    label.form-label {
      font-weight: 600;
      color: #1e3a8a;
      margin-bottom: 0.6rem;
    }

    /* Inputs y selects */
    .form-control,
    .form-select {
      border: 1.8px solid #1e3a8a;
      border-radius: 8px;
      padding: 0.5rem 0.75rem;
      font-weight: 500;
      color: #0d3b66;
      transition: border-color 0.3s ease;
    }
    .form-control:focus,
    .form-select:focus {
      border-color: #1e90ff;
      box-shadow: 0 0 5px rgba(30, 144, 255, 0.5);
      outline: none;
    }

    /* Botones */
    .btn-primary {
      background-color: #1e3a8a;
      border-color: #1e3a8a;
      font-weight: 600;
      padding: 0.5rem 1.4rem;
      border-radius: 8px;
      transition: background-color 0.3s ease;
    }
    .btn-primary:hover {
      background-color: #1e90ff;
      border-color: #1e90ff;
    }

    /* Títulos de secciones */
    .section-title {
      color: #1e3a8a;
      font-weight: 700;
      margin-bottom: 1.2rem;
      border-left: 5px solid #1e90ff;
      padding-left: 0.7rem;
      font-size: 1.5rem;
    }

    /* Tabla de actividades */
    table.table {
      background: #ffffff;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 4px 14px rgba(13, 59, 102, 0.1);
      font-weight: 500;
    }
    table.table thead {
      background-color: #1e90ff;
      color: white;
    }
    table.table tbody tr:nth-child(even) {
      background-color: #f0f7ff;
    }
    table.table tbody tr:hover {
      background-color: #d0e6ff;
    }

    /* Mensajes de texto */
    .text-muted {
      font-style: italic;
      color: #4a6fa5;
    }
  </style>
<body>
  <div class="container py-5">
    <h1>Gestión de Grupos de Investigación</h1>

    <!-- Selección Grupo -->
    <div class="card p-4 mb-4">
      <label for="grupoSelect" class="form-label fs-5">Seleccionar Grupo de Investigación</label>
      <select id="grupoSelect" class="form-select">
        <option value="" disabled selected>Seleccione un grupo</option>
        <option value="comba">COMBA I+D</option>
        <option value="gieiam">GIEIAM</option>
      </select>
    </div>

    <!-- Información del Grupo -->
    <div id="infoGrupo" class="card p-4 mb-5" style="display:none;">
      <h3 class="section-title">Información del Grupo</h3>
      <p><strong>Nombre del Grupo:</strong> <span id="nombreGrupo"></span></p>
      <p><strong>Nombre del Semillero:</strong> <span id="semilleroGrupo"></span></p>
      <p><strong>Director:</strong> <span id="directorGrupo"></span></p>
      <p><strong>Objetivos:</strong> <span id="objetivosGrupo"></span></p>
      <p><strong>Información Adicional:</strong> <span id="infoAdicionalGrupo"></span></p>
    </div>

    <div class="row g-4">
      <!-- Registrar Docente -->
      <div class="col-lg-6">
        <div class="card p-4 h-100">
          <h2 class="section-title">Registrar Docente Investigador</h2>
          <form id="formDocente" class="d-flex flex-column">
            <input type="text" class="form-control mb-3" name="nombre" placeholder="Nombre docente" required />
            <input type="text" class="form-control mb-3" name="formacion" placeholder="Formación académica" required />
            <input type="text" class="form-control mb-3" name="horario" placeholder="Horario de atención" required />
            <button class="btn btn-primary">Registrar Docente</button>
          </form>
        </div>
      </div>

      <!-- Vincular Estudiante -->
      <div class="col-lg-6">
        <div class="card p-4 h-100">
          <h2 class="section-title">Vincular Estudiante a Semillero</h2>
          <form id="formEstudiante" class="d-flex flex-column">
            <input type="text" class="form-control mb-3" name="nombre" placeholder="Nombre estudiante" required />
            <input type="text" class="form-control mb-3" name="codigo" placeholder="Código estudiante" required />
            <input type="text" class="form-control mb-3" name="carrera" placeholder="Carrera" required />
            <select class="form-select mb-3" name="semillero" required>
              <option value="" disabled selected>Seleccione semillero</option>
              <option value="Semillero COMBA">Semillero COMBA</option>
              <option value="Semillero INFORMA">Semillero INFORMA</option>
            </select>
            <button class="btn btn-primary">Vincular Estudiante</button>
          </form>
        </div>
      </div>

      <!-- Agregar Actividad -->
      <div class="col-12">
        <div class="card p-4">
          <h2 class="section-title">Agregar Actividad al Semillero</h2>
          <form id="formActividad" class="row g-3 align-items-end">
            <div class="col-md-4">
              <label for="tipoActividad" class="form-label">Tipo de actividad</label>
              <input type="text" class="form-control" name="tipo" id="tipoActividad" placeholder="Taller, conferencia..." required />
            </div>
            <div class="col-md-2">
              <label for="fechaActividad" class="form-label">Fecha</label>
              <input type="date" class="form-control" name="fecha" id="fechaActividad" required />
            </div>
            <div class="col-md-2">
              <label for="horaActividad" class="form-label">Hora</label>
              <input type="time" class="form-control" name="hora" id="horaActividad" required />
            </div>
            <div class="col-md-2">
              <label for="limiteActividad" class="form-label">Límite de asistentes</label>
              <input type="number" class="form-control" name="limite" id="limiteActividad" placeholder="Ej. 50" required />
            </div>
            <div class="col-md-12">
              <label for="resumenActividad" class="form-label">Resumen de la actividad</label>
              <textarea class="form-control" name="resumen" id="resumenActividad" rows="3" placeholder="Descripción breve..." required></textarea>
            </div>
            <div class="col-md-12 text-end">
              <button class="btn btn-primary">Registrar Actividad</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Listado Actividades -->
    <div class="mt-5">
      <h3 class="section-title">Actividades del Grupo Seleccionado</h3>
      <div id="listaActividades" class="row gy-3"></div>
    </div>
  </div>

  <script>
    const grupoSelect = document.getElementById("grupoSelect");
    const infoGrupo = document.getElementById("infoGrupo");
    const nombreGrupo = document.getElementById("nombreGrupo");
    const semilleroGrupo = document.getElementById("semilleroGrupo");
    const directorGrupo = document.getElementById("directorGrupo");
    const objetivosGrupo = document.getElementById("objetivosGrupo");
    const infoAdicionalGrupo = document.getElementById("infoAdicionalGrupo");

    const formDocente = document.getElementById("formDocente");
    const formEstudiante = document.getElementById("formEstudiante");
    const formActividad = document.getElementById("formActividad");
    const listaActividades = document.getElementById("listaActividades");

    const gruposData = {
      comba: {
        nombre: "COMBA I+D",
        semillero: "Semilleros COMBA",
        director: "Dra. Ana Gómez",
        objetivos: "Desarrollar soluciones en computación, matemáticas aplicadas y bioinformática.",
        informacion: "El grupo COMBA trabaja en proyectos interdisciplinarios que integran modelamiento matemático, inteligencia artificial y análisis de datos biomédicos."
      },
      gieiam: {
        nombre: "GIEIAM",
        semillero: "Semilleros A, B, C",
        director: "Dr. Carlos Pérez",
        objetivos: "Estudiar e innovar en ingeniería industrial, automatización y sistemas inteligentes.",
        informacion: "GIEIAM promueve la formación investigativa en estudiantes, participando en ferias de ciencia y desarrollando prototipos de automatización industrial."
      }
    };

    const actividadesPorGrupo = {
      comba: [],
      gieiam: []
    };

    grupoSelect.addEventListener("change", () => {
      const grupoSeleccionado = grupoSelect.value;
      const datos = gruposData[grupoSeleccionado];
      if (datos) {
        infoGrupo.style.display = "block";
        nombreGrupo.textContent = datos.nombre;
        semilleroGrupo.textContent = datos.semillero;
        directorGrupo.textContent = datos.director;
        objetivosGrupo.textContent = datos.objetivos;
        infoAdicionalGrupo.textContent = datos.informacion;
        mostrarActividades(grupoSeleccionado);
      } else {
        infoGrupo.style.display = "none";
        listaActividades.innerHTML = "";
      }
    });

    formDocente.addEventListener("submit", async (e) => {
      e.preventDefault();
      const grupoSeleccionado = grupoSelect.value;
      if (!grupoSeleccionado) return alert("Debe seleccionar un grupo de investigación primero.");

      const datos = Object.fromEntries(new FormData(formDocente));
      datos.grupo = gruposData[grupoSeleccionado].nombre;

      const respuesta = await fetch("https://jsonplaceholder.typicode.com/posts", {
        method: "POST",
        body: JSON.stringify(datos),
        headers: { "Content-Type": "application/json" }
      });
      const resultado = await respuesta.json();
      alert("Docente registrado:\n" + JSON.stringify(resultado, null, 2));
      formDocente.reset();
    });

    formEstudiante.addEventListener("submit", async (e) => {
      e.preventDefault();
      const datos = Object.fromEntries(new FormData(formEstudiante));
      datos.grupo = grupoSelect.value ? gruposData[grupoSelect.value].nombre : "Sin grupo";

      const respuesta = await fetch("https://jsonplaceholder.typicode.com/posts", {
        method: "POST",
        body: JSON.stringify(datos),
        headers: { "Content-Type": "application/json" }
      });
      const resultado = await respuesta.json();
      alert("Estudiante vinculado:\n" + JSON.stringify(resultado, null, 2));
      formEstudiante.reset();
    });

    formActividad.addEventListener("submit", async (e) => {
      e.preventDefault();
      const grupoSeleccionado = grupoSelect.value;
      if (!grupoSeleccionado) return alert("Debe seleccionar un grupo de investigación primero.");

      const datos = Object.fromEntries(new FormData(formActividad));
      const respuesta = await fetch("https://jsonplaceholder.typicode.com/posts", {
        method: "POST",
        body: JSON.stringify(datos),
        headers: { "Content-Type": "application/json" }
      });
      const actividad = await respuesta.json();

      actividadesPorGrupo[grupoSeleccionado].push(actividad);
      mostrarActividades(grupoSeleccionado);
      formActividad.reset();
    });

    function mostrarActividades(grupo) {
      listaActividades.innerHTML = "";

      const actividades = actividadesPorGrupo[grupo];

      if (actividades.length === 0) {
        listaActividades.innerHTML = `<p class="text-muted">No hay actividades registradas para este grupo.</p>`;
        return;
      }

      // Crear tabla
      const tabla = document.createElement("table");
      tabla.className = "table table-bordered table-striped";

      // Encabezado
      tabla.innerHTML = `
        <thead class="table-primary">
          <tr>
            <th>Tipo</th>
            <th>Fecha</th>
            <th>Hora</th>
            <th>Cupo</th>
            <th>Resumen</th>
          </tr>
        </thead>
        <tbody>
          ${actividades.map(act => `
            <tr>
              <td>${act.tipo}</td>
              <td>${act.fecha}</td>
              <td>${act.hora}</td>
              <td>${act.limite}</td>
              <td>${act.resumen}</td>
            </tr>
          `).join("")}
        </tbody>
      `;

      listaActividades.appendChild(tabla);
    }
  </script>

  <!-- Bootstrap JS Bundle -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>

